<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>淘宝购物车页面</title>
    <link href="css/myCart.css"  rel="stylesheet" />
    <script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	$(function(){
		$("#num_1").parent("td").next().html(138.00);
		$("#num_2").parent("td").next().html(265.00);
		$("#num_3").parent("td").next().html(85.00);
		$("#num_4").parent("td").next().html(24.00);
		var n4=	$("#num_4").parent("td").next().html();
		var n3=$("#num_3").parent("td").next().html();
		var n1=$("#num_1").parent("td").next().html();
		var n2=$("#num_2").parent("td").next().html();
		var b=parseInt(n1)+parseInt(n2)+parseInt(n3)+parseInt(n4);
//		var ss=parseInt(("#total").html());
		//	日韩流行风时尚美眉最爱独特米字拼图金属坡跟公主靴子黑色
		$('#num_1').next().click(function(){
			var y=$("#num_1").val();
			var z=parseFloat(y)+1.00;
			//这是积分
			var j=$("#num_1").parent("td").prev().prev().html();
			$("#num_1").parent("td").prev().prev().html(parseInt(j)+5);
			//这是单价
			var d=$("#num_1").parent("td").prev().html();
			d=parseFloat(d);
			//这是小计
			$("#num_1").parent("td").next().html(d*z);
			$("#num_1").val(z);
			b=parseInt( $("#num_1").parent("td").next().html())+b;
//			alert($("input[value='product1']").attr("checked"))
			if($("input[value='product1']").attr("checked")=="checked"){
				if($("#total").html()!=""){
					var ss=parseInt($("#total").html());
					$("#total").html(138+ss);
					
				}else{
					
					$("#total").html($("#num_1").parent("td").next().html(d*z));
				}
			}
//			alert(b);
			
		}).end().prev().click(function(){
			var y=$("#num_1").val();
			var z=parseInt(y)-1;
			
			//这是积分
			var j=$("#num_1").parent("td").prev().prev().html();
			
			//这是单价
			var d=$("#num_1").parent("td").prev().html();
			d=parseFloat(d);
			if(z==0){
				z=1;
				$("#num_1").parent("td").prev().prev().html(parseInt(j));
				alert("不能再减了");
			}else{
				$("#num_1").parent("td").prev().prev().html(parseInt(j)-5);
				
			}
			//这是小计
			$("#num_1").parent("td").next().html(d*z);
			$("#num_1").val(z);
//			alert(b);
			if($("input[value='product1']").attr("checked")=="checked"){
				if($("#total").html()!=138&z>1){
					var ss=parseInt($("#total").html());
					alert(ss)
					$("#total").html(ss-138);
					
				}else if($("#total").html()!=138&z==0){
					
					$("#total").html("");
				}
			}
		})
		
		//chanel/香奈尔/香奈尔炫亮魅力唇膏3.5g
		$('#num_2').next().click(function(){
			var y=$("#num_2").val();
			var z=parseFloat(y)+1.00;
			//这是积分
			var j=$("#num_2").parent("td").prev().prev().html();
			$("#num_2").parent("td").prev().prev().html(parseInt(j)+12);
			//这是单价
			var d=$("#num_2").parent("td").prev().html();
			d=parseFloat(d);
			//这是小计
			$("#num_2").parent("td").next().html(d*z);
			$("#num_2").val(z);
			b=parseInt( $("#num_2").parent("td").next().html())+b;
//			alert(b);
			if($("input[value='product2']").attr("checked")=="checked"){
				if($("#total").html()!=""){
					var ss=parseInt($("#total").html());
					$("#total").html(265+ss);
					
				}else{
					
					$("#total").html($("#num_1").parent("td").next().html(d*z));
				}
			}
		}).end().prev().click(function(){
			var y=$("#num_2").val();
			var z=parseInt(y)-1;
			
			//这是积分
			var j=$("#num_2").parent("td").prev().prev().html();
			
			//这是单价
			var d=$("#num_2").parent("td").prev().html();
			d=parseFloat(d);
			if(z==0){
				z=1;
				$("#num_2").parent("td").prev().prev().html(parseInt(j));
				alert("不能再减了");
			}else{
				$("#num_2").parent("td").prev().prev().html(parseInt(j)-12);
				
			}
			//这是小计
			$("#num_2").parent("td").next().html(d*z);
			$("#num_2").val(z);
			if($("input[value='product2']").attr("checked")=="checked"){
				if($("#total").html()!=265&z>1){
					var ss=parseInt($("#total").html());
					alert(ss)
					$("#total").html(ss-265);
					
				}else if($("#total").html()!=265&z==0){
					
					$("#total").html("");
				}
			}//			alert(b);
			
		})
		
		
		//蝶妆海?蓝清滢粉底液10#（象牙白）
		$('#num_3').next().click(function(){
			var y=$("#num_3").val();
			var z=parseFloat(y)+1.00;
			//这是积分
			var j=$("#num_3").parent("td").prev().prev().html();
			$("#num_3").parent("td").prev().prev().html(parseInt(j)+3);
			//这是单价
			var d=$("#num_3").parent("td").prev().html();
			d=parseFloat(d);
			//这是小计
			$("#num_3").parent("td").next().html(d*z);
			$("#num_3").val(z);
//			alert(b);
			if($("input[value='product3']").attr("checked")=="checked"){
				if($("#total").html()!=""){
					var ss=parseInt($("#total").html());
					$("#total").html(85+ss);
					
				}else{
					
					$("#total").html($("#num_1").parent("td").next().html(d*z));
				}
			}
		}).end().prev().click(function(){
			var y=$("#num_3").val();
			var z=parseInt(y)-1;
			
			//这是积分
			var j=$("#num_3").parent("td").prev().prev().html();
			
			//这是单价
			var d=$("#num_3").parent("td").prev().html();
			d=parseFloat(d);
			if(z==0){
				z=1;
				$("#num_3").parent("td").prev().prev().html(parseInt(j));
				alert("不能再减了");
			}else{
				$("#num_3").parent("td").prev().prev().html(parseInt(j)-3);
				
			}
			//这是小计
			$("#num_3").parent("td").next().html(d*z);
			$("#num_3").val(z);
			if($("input[value='product3']").attr("checked")=="checked"){
				if($("#total").html()!=85&z>1){
					var ss=parseInt($("#total").html());
					alert(ss)
					$("#total").html(ss-85);
					
				}else if($("#total").html()!=85&z==0){
					
					$("#total").html("");
				}
			}
//			alert(b);
		})
		
		//相宜促销专供 大S推荐 最好用的LilyBell化妆棉
		$('#num_4').next().click(function(){
			var y=$("#num_4").val();
			var z=parseFloat(y)+1.00;
			//这是积分
			var j=$("#num_4").parent("td").prev().prev().html();
			$("#num_4").parent("td").prev().prev().html(parseInt(j)+12);
			//这是单价
			var d=$("#num_4").parent("td").prev().html();
			d=parseFloat(d);
			//这是小计
			$("#num_4").parent("td").next().html(d*z);
			$("#num_4").val(z);
			b=parseInt( $("#num_4").parent("td").next().html())+b;
//			alert(b);
			if($("input[value='product4']").attr("checked")=="checked"){
				if($("#total").html()!=""){
					var ss=parseInt($("#total").html());
					$("#total").html(12+ss);
					
				}else{
					
					$("#total").html($("#num_1").parent("td").next().html(d*z));
				}
			}
		}).end().prev().click(function(){
			var y=$("#num_4").val();
			var z=parseInt(y)-1;
			
			//这是积分
			var j=$("#num_4").parent("td").prev().prev().html();
			
			//这是单价
			var d=$("#num_4").parent("td").prev().html();
			d=parseFloat(d);
			if(z==1){
				$("#num_4").parent("td").prev().prev().html(parseInt(j));
				alert("下次不能再减了");
			}else{
				$("#num_4").parent("td").prev().prev().html(parseInt(j)-12);
				
			}
			//这是小计
			$("#num_4").parent("td").next().html(d*z);
			$("#num_4").val(z);
if($("input[value='product4']").attr("checked")=="checked"){
				if($("#total").html()!=12&z>1){
					var ss=parseInt($("#total").html());
					alert(ss)
					$("#total").html(ss-12);
					
				}else if($("#total").html()!=12&z==0){
					
					$("#total").html("");
				}
			}//			alert(b);
		})
		$("#allCheckBox").click(function(){
			$("[type='checkbox']").attr("checked","true");
			u();
		})
		function u(){
			
			$("#total").html(b);
		}
			$("#deleteAll").click(function(){
			$("[type='checkbox']").attr("checked","true").parent().parent().prev().detach();
			$("[type='checkbox']").attr("checked","true").parent().parent().detach();
		})
			
//			$("#cart_td_1").
		$("input[value*='product']").click(function(){
			$(this).attr("checked",true);
			if($(this).attr("checked")=="checked"){
				var j=$(this).parent().next().next().next().next().html();
				var g=$(this).parent().next().next().next().next().next().children().next().val();
					
					if($("#total").html()==""){
						
						$("#total").html(parseFloat(j)*g);
					}else{
						$("#total").html(parseFloat($("#total").html())+parseFloat(j)*g);
					}
			}
		})
		
		
		$(".cart_td_8").children("a").click(function(){
			
			if($("input[value*='product']").attr("checked")=="checked"){
				var j=$(this).parent().next().next().next().next().html();
				var g=$(this).parent().next().next().next().next().next().children().next().val();
				alert("a")
				var x=parseFloat($("#total").html())-parseFloat(j)*g;
				if(x<=0){
					
					$("#total").html("");
				}else{
					$("#total").html(x);
				}
				
				$(this).parent().parent().prev().detach();
				$(this).parent().parent().detach();
			}
		})
	})
</script>
</head>
<body>
<div id="header"><img src="images/taobao_logo.gif" alt="logo" /></div>
<div id="nav">您的位置：<a href="#">首页</a> &gt; <a href="#">我的淘宝</a> &gt; 我的购物车</div>
<div id="navlist">
    <ul>
        <li class="navlist_red_left"></li>
        <li class="navlist_red">1. 查看购物车</li>
        <li class="navlist_red_arrow"></li>
        <li class="navlist_gray">2. 确认订单信息</li>
        <li class="navlist_gray_arrow"></li>
        <li class="navlist_gray">3. 付款到支付宝</li>
        <li class="navlist_gray_arrow"></li>
        <li class="navlist_gray">4. 确认收货</li>
        <li class="navlist_gray_arrow"></li>
        <li class="navlist_gray">5. 评价</li>
        <li class="navlist_gray_right"></li>
    </ul>
</div>

<div id="content">
	<form action="" method="post" name="myform">
    	<table width="100%" border="0" cellspacing="0" cellpadding="0" id="shopping">        
            <tr>
                <td class="title_1"><input id="allCheckBox" type="checkbox" value=""/>全选</td>
                <td class="title_2" colspan="2">店铺宝贝</td>
                <td class="title_3">获积分</td>
                <td class="title_4">单价（元）</td>
                <td class="title_5">数量</td>
                <td class="title_6">小计（元）</td>
                <td class="title_7">操作</td>
            </tr>
            <tr>
                <td colspan="8" class="line"></td>
            </tr>
            <tr>
                <td colspan="8" class="shopInfo">店铺：<a href="#">纤巧百媚时尚鞋坊</a>    卖家：<a href="#">纤巧百媚</a> <img src="images/taobao_relation.jpg" alt="relation" /></td>
            </tr>
            <tr id="product1">
                <td class="cart_td_1"><input name="cartCheckBox" type="checkbox" value="product1"/></td>
                <td class="cart_td_2"><img src="images/taobao_cart_01.jpg" alt="shopping"/></td>
                <td class="cart_td_3"><a href="#">日韩流行风时尚美眉最爱独特米字拼图金属坡跟公主靴子黑色</a><br />
                    颜色：棕色 尺码：37<br />
                    保障：<img src="images/taobao_icon_01.jpg" alt="icon" /></td>
                <td class="cart_td_4">5</td>
                <td class="cart_td_5">138.00</td>
                <td class="cart_td_6"><img src="images/taobao_minus.jpg" alt="minus" class="hand"/> <input id="num_1" type="text"  value="1" class="num_input" readonly="readonly"/> <img src="images/taobao_adding.jpg" alt="add" class="hand"/></td>
                <td class="cart_td_7"></td>
                <td class="cart_td_8"><a href="javascript:void(0);">删除</a></td>
            </tr>

            <tr>
                <td colspan="8" class="shopInfo">店铺：<a href="#">香港我的美丽日记</a>    卖家：<a href="#">lokemick2009</a> <img src="images/taobao_relation.jpg" alt="relation" /></td>
            </tr>
            <tr id="product2">
                <td class="cart_td_1"><input name="cartCheckBox" type="checkbox" value="product2" /></td>
                <td class="cart_td_2"><img src="images/taobao_cart_02.jpg" alt="shopping"/></td>
                <td class="cart_td_3"><a href="#">chanel/香奈尔/香奈尔炫亮魅力唇膏3.5g</a><br />
                    保障：<img src="images/taobao_icon_01.jpg" alt="icon" /> <img src="images/taobao_icon_02.jpg" alt="icon" /></td>
                <td class="cart_td_4">12</td>
                <td class="cart_td_5">265.00</td>
                <td class="cart_td_6"><img src="images/taobao_minus.jpg" alt="minus" class="hand"/> <input id="num_2" type="text"  value="1" class="num_input" readonly="readonly"/> <img src="images/taobao_adding.jpg" alt="add" class="hand"/></td>
                <td class="cart_td_7"></td>
                <td class="cart_td_8"><a href="javascript:void(0);">删除</a></td>
            </tr>

            <tr>
                <td colspan="8" class="shopInfo">店铺：<a href="#">实体经营</a>    卖家：<a href="#">林颜店铺</a> <img src="images/taobao_relation.jpg" alt="relation" /></td>
            </tr>
            <tr id="product3">
                <td class="cart_td_1"><input name="cartCheckBox" type="checkbox" value="product3"/></td>
                <td class="cart_td_2"><img src="images/taobao_cart_03.jpg" alt="shopping"/></td>
                <td class="cart_td_3"><a href="#">蝶妆海?蓝清滢粉底液10#（象牙白）</a><br />
                    保障：<img src="images/taobao_icon_01.jpg" alt="icon" /> <img src="images/taobao_icon_02.jpg" alt="icon" /></td>
                <td class="cart_td_4">3</td>
                <td class="cart_td_5">85.00</td>
                <td class="cart_td_6"><img src="images/taobao_minus.jpg" alt="minus" class="hand"/> <input id="num_3" type="text"  value="1" class="num_input" readonly="readonly"/> <img src="images/taobao_adding.jpg" alt="add" class="hand"/></td>
                <td class="cart_td_7"></td>
                <td class="cart_td_8"><a href="javascript:void(0);">删除</a></td>
            </tr>

            <tr>
                <td colspan="8" class="shopInfo">店铺：<a href="#">红豆豆的小屋</a>    卖家：<a href="#">taobao豆豆</a> <img src="images/taobao_relation.jpg" alt="relation" /></td>
            </tr>
            <tr id="product4">
                <td class="cart_td_1"><input name="cartCheckBox" type="checkbox" value="product4"/></td>
                <td class="cart_td_2"><img src="images/taobao_cart_04.jpg" alt="shopping"/></td>
                <td class="cart_td_3"><a href="#">相宜促销专供 大S推荐 最好用的LilyBell化妆棉</a><br />
                    保障：<img src="images/taobao_icon_01.jpg" alt="icon" /></td>
                <td class="cart_td_4">12</td>
                <td class="cart_td_5">12.00</td>
                <td class="cart_td_6"><img src="images/taobao_minus.jpg" alt="minus" class="hand"/> <input id="num_4" type="text"  value="2" class="num_input" readonly="readonly"/> <img src="images/taobao_adding.jpg" alt="add" class="hand"/></td>
                <td class="cart_td_7"></td>
                <td class="cart_td_8"><a href="javascript:void(0);">删除</a></td>
            </tr>

            <tr>
                <td  colspan="3"><a id="deleteAll" href="javascript:void(0);"><img src="images/taobao_del.jpg" alt="delete"/></a></td>
                <td colspan="5" class="shopend">商品总价（不含运费）：<label id="total" class="yellow"></label> 元<br />
                    可获积分 <label class="yellow" id="integral"></label> 点<br />
                    <input name=" " type="image" src="images/taobao_subtn.jpg" /></td>
            </tr>        
    	</table>
    </form>
</div>
</body>
</html>
